version: 1
frontend:
 phases:
  preBuild:
   commands:
    - echo "Running pre-build commands..."
    - npm install
    # Run environment variable validation
    - node amplify-scripts/check-env.js
    # Generate configuration files
    - node amplify-scripts/generate-config.js
    # You can add more pre-build commands here
    # - npm test              # Run tests
    # - npm audit             # Security audit
    # - npm run lint          # Lint code
  build:
   commands:
    - echo "Running build commands..."
    - npm run build
 artifacts:
  baseDirectory: .next
  files:
   - "**/*"
 cache:
  paths:
   - node_modules/**/*
   - .next/cache/**/*
